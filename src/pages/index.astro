---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import Logo from '../assets/logo.png';

const blogEntries = await getCollection('blog');
const posts = blogEntries
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 3);
const partners = await getCollection('partners');
---

<Layout
  title="Galaxy | Pharmaceutical Distribution by Profarma Group"
  description="Galaxy delivers pharmaceutical therapies across Albania with precise distribution, regulatory rigor, and trusted partnerships."
>
  <div class="min-h-screen bg-[var(--page)] text-[var(--ink)]">
    <header class="sticky top-0 z-40 border-b border-black/5 bg-white/95 backdrop-blur reveal-up is-visible">
      <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-4 text-sm font-semibold">
        <a href="#home" class="flex items-center gap-3">
          <img src={Logo.src} width="120" height="40" alt="Galaxy logo" class="h-10 w-auto" />
        </a>
        <nav class="flex flex-wrap items-center gap-4 text-[var(--muted)]">
          <a href="#home" class="hover:text-[var(--slate)]">Home</a>
          <a href="#about" class="hover:text-[var(--slate)]">About</a>
          <a href="#benefits" class="hover:text-[var(--slate)]">Capabilities</a>
          <a href="#partners" class="hover:text-[var(--slate)]">Partners</a>
          <a href="#blog" class="hover:text-[var(--slate)]">Blog</a>
          <a href="#contact" class="hover:text-[var(--slate)]">Contact</a>
        </nav>
        <a href="#contact" class="rounded-full border border-[var(--slate)] px-5 py-2 text-[var(--slate)]">Work with us</a>
      </div>
    </header>

    <main class="mx-auto flex max-w-6xl flex-col gap-24 px-6 pb-24 pt-16" id="home">
      <section class="relative overflow-hidden rounded-[2.75rem] bg-[#0f1933] px-8 py-12 text-white" data-animate>
        <div class="motion-glow absolute inset-0 -z-10 opacity-50" style="background-image: radial-gradient(circle at 20% 20%, rgba(255,255,255,.25), transparent 45%), radial-gradient(circle at 80% 10%, rgba(12,100,255,.4), transparent 35%), linear-gradient(120deg, rgba(15,25,51,0.8), rgba(7,15,30,0.8)); background-size: cover;" />
        <div class="grid gap-12 lg:grid-cols-[minmax(0,1fr)_360px] lg:items-center">
          <div class="space-y-6">
            <p class="text-xs uppercase tracking-[0.4em] text-white/70">Profarma Group</p>
            <h1 class="text-4xl font-semibold leading-tight sm:text-5xl">
              Empowering Albanian healthcare with technology-driven distribution.
            </h1>
            <p class="text-lg text-white/80">
              Galaxy blends Profarma's 30+ years of production and regulatory mastery with nationwide logistics, ensuring every therapy reaches clinicians quickly, safely, and compliantly.
            </p>
            <div class="grid gap-6 text-sm sm:grid-cols-3">
              <div>
                <p class="text-3xl font-semibold">30+</p>
                <p class="uppercase tracking-[0.2em] text-white/70">Years active</p>
              </div>
              <div>
                <p class="text-3xl font-semibold">24h</p>
                <p class="uppercase tracking-[0.2em] text-white/70">National reach</p>
              </div>
              <div>
                <p class="text-3xl font-semibold">GDP</p>
                <p class="uppercase tracking-[0.2em] text-white/70">Certified</p>
              </div>
            </div>
            <div class="flex flex-wrap gap-4">
              <a href="#about" class="rounded-full bg-white px-6 py-3 text-sm font-semibold text-[#0f1933]">Discover Galaxy</a>
              <a href="#contact" class="rounded-full border border-white/40 px-6 py-3 text-sm font-semibold text-white">Talk to us</a>
            </div>
          </div>
          <div class="glow-card rounded-[2rem] p-6 text-[var(--slate)]">
            <p class="text-sm font-semibold uppercase tracking-[0.3em] text-[var(--muted)]">Cold-chain integrity</p>
            <h2 class="mt-3 text-2xl font-semibold text-[var(--slate)]">Live telemetry coverage</h2>
            <p class="mt-3 text-sm text-[var(--muted)]">
              Connected hubs in Tirana, Durres, and Korçë provide real-time temperature, vibration, and access alerts so partners can see the exact condition of their inventory at any moment.
            </p>
            <div class="mt-6 grid gap-4 text-center text-sm">
              <div class="rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3">
                <p class="text-3xl font-semibold text-[var(--slate)]">5</p>
                <p class="uppercase tracking-[0.2em] text-[var(--muted)]">Regional hubs</p>
              </div>
              <div class="rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3">
                <p class="text-3xl font-semibold text-[var(--slate)]">120+</p>
                <p class="uppercase tracking-[0.2em] text-[var(--muted)]">Sensors online</p>
              </div>
              <div class="rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3">
                <p class="text-3xl font-semibold text-[var(--slate)]">5m</p>
                <p class="uppercase tracking-[0.2em] text-[var(--muted)]">Refresh rate</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="about" class="grid gap-10 rounded-[2.5rem] bg-white p-10 shadow-[0_25px_60px_rgba(8,20,43,0.08)] lg:grid-cols-2" data-animate>
        <div class="space-y-4">
          <p class="text-xs font-semibold uppercase tracking-[0.4em] text-[var(--muted)]">Who we are</p>
          <h2 class="text-3xl font-semibold text-[var(--slate)]">
            A Profarma Group company uniting production, regulatory affairs, and national distribution.
          </h2>
          <p class="text-lg text-[var(--muted)]">
            From dossier management and pharmacovigilance to last-mile fulfillment, Galaxy is the single accountable partner for innovators entering Albania. Our teams orchestrate each stage with transparent data, certified facilities, and people who understand the realities of Albanian healthcare.
          </p>
          <div class="grid gap-6 sm:grid-cols-2">
            <div class="rounded-2xl border border-black/5 bg-[var(--page)] p-5">
              <p class="text-lg font-semibold text-[var(--slate)]">Regulatory depth</p>
              <p class="text-sm text-[var(--muted)]">Lifecycle submissions, vigilance, and MoH coordination.</p>
            </div>
            <div class="rounded-2xl border border-black/5 bg-[var(--page)] p-5">
              <p class="text-lg font-semibold text-[var(--slate)]">Digital logistics</p>
              <p class="text-sm text-[var(--muted)]">Cold-chain telemetry, predictive alerts, and partner dashboards.</p>
            </div>
          </div>
        </div>
        <div class="relative">
          <div class="h-full rounded-[2rem] bg-gradient-to-br from-[#d2e7ff] via-white to-[#f5f8fb] p-10">
            <div class="space-y-4 text-[var(--slate)]">
              <p class="text-sm uppercase tracking-[0.4em] text-[var(--muted)]">Vision</p>
              <p class="text-lg font-medium">
                Enable every Albanian hospital, pharmacy, and clinician to access breakthrough therapies the moment they are authorized, without compromising compliance or speed.
              </p>
              <div class="mt-6 rounded-2xl bg-white/80 p-5 text-sm text-[var(--muted)] shadow-inner">
                "Galaxy acts like an extension of our launch teams—aligning regulatory, market, and supply milestones from day zero." – Profarma Group Leadership
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="benefits" class="rounded-[2.5rem] bg-[#0c2f74] px-8 py-12 text-white" data-animate>
        <div class="space-y-2 text-center">
          <p class="text-xs uppercase tracking-[0.4em] text-white/70">Capabilities</p>
          <h2 class="text-3xl font-semibold">Benefits that save you time and safeguard therapies.</h2>
        </div>
        <div class="mt-10 grid gap-6 md:grid-cols-4">
          <article class="rounded-2xl border border-white/10 bg-white/5 p-6 text-sm">
            <p class="text-lg font-semibold">Effortless onboarding</p>
            <p class="mt-2 text-white/80">Easily onboard via our regulatory playbook and shared data rooms.</p>
          </article>
          <article class="rounded-2xl border border-white/10 bg-white/5 p-6 text-sm">
            <p class="text-lg font-semibold">Flexible shipping</p>
            <p class="mt-2 text-white/80">Same-day releases, validated cold-chain, and 24h national coverage.</p>
          </article>
          <article class="rounded-2xl border border-white/10 bg-white/5 p-6 text-sm">
            <p class="text-lg font-semibold">Returns made easy</p>
            <p class="mt-2 text-white/80">GDP-compliant recalls and traceability with a single contact.</p>
          </article>
          <article class="rounded-2xl border border-white/10 bg-white/5 p-6 text-sm">
            <p class="text-lg font-semibold">Extensive selection</p>
            <p class="mt-2 text-white/80">OTC to specialty—our network spans community pharmacies to acute care.</p>
          </article>
        </div>
        <div class="mt-10 rounded-[2rem] border border-white/15 bg-white/10 p-10 text-center text-2xl font-semibold tracking-tight">
          Offering you…
          <span
            class="ml-3 font-semibold text-white typewriter"
            data-typewriter
            data-words='["Free Shipping","Customer Service","Regulatory Guidance"]'
          >
            Free Shipping
          </span>
        </div>
      </section>

      <section id="partners" class="space-y-8" data-animate>
        <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.4em] text-[var(--muted)]">Partners</p>
            <h2 class="text-3xl font-semibold text-[var(--slate)]">Trusted network delivering impact together.</h2>
          </div>
          <a href="#contact" class="text-sm font-semibold text-[var(--accent)]">Become a partner →</a>
        </div>
        <div class="grid gap-6 md:grid-cols-2">
          {partners.map((partner) => (
            <article class="glow-card flex flex-col gap-4 rounded-3xl p-6" key={partner.id}>
              <div class="flex items-center gap-4">
                <img src={partner.data.logo} alt={`${partner.data.name} logo`} class="h-16 w-16 rounded-2xl bg-[var(--page)] p-3" />
                <div>
                  <h3 class="text-lg font-semibold text-[var(--slate)]">{partner.data.name}</h3>
                  <p class="text-sm text-[var(--muted)]">{partner.data.focus}</p>
                </div>
              </div>
              <p class="text-sm text-[var(--muted)]">{partner.data.description}</p>
              <a href={partner.data.website} class="text-sm font-semibold text-[var(--accent)]" target="_blank" rel="noopener">
                Visit website →
              </a>
            </article>
          ))}
        </div>
      </section>

      <section id="blog" class="space-y-8" data-animate>
        <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.4em] text-[var(--muted)]">Blog</p>
            <h2 class="text-3xl font-semibold text-[var(--slate)]">Signals from our distribution floor.</h2>
          </div>
          <a href="/blog" class="text-sm font-semibold text-[var(--accent)]">View all posts →</a>
        </div>
        <div class="grid gap-6 md:grid-cols-3">
          {posts.map((post) => (
            <a
              href={`/blog/${post.slug}/`}
              class="glow-card flex flex-col overflow-hidden rounded-3xl"
              key={post.id}
            >
              {post.data.heroImage && (
                <img src={post.data.heroImage.src} alt={post.data.heroImage.alt} class="h-44 w-full object-cover" loading="lazy" />
              )}
              <div class="flex flex-1 flex-col gap-3 p-5">
                <p class="text-xs uppercase tracking-[0.3em] text-[var(--muted)]">
                  {post.data.publishDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                </p>
                <h3 class="text-lg font-semibold text-[var(--slate)]">{post.data.title}</h3>
                <p class="text-sm text-[var(--muted)]">{post.data.description}</p>
                <div class="mt-auto text-sm font-semibold text-[var(--accent)]">Read more →</div>
              </div>
            </a>
          ))}
        </div>
      </section>

      <section
        id="contact"
        class="grid gap-10 rounded-[2.5rem] border border-black/5 bg-white p-10 shadow-[0_25px_60px_rgba(8,20,43,0.08)] md:grid-cols-[1.2fr_1fr]"
        data-animate
      >
        <div class="space-y-4">
          <p class="text-xs font-semibold uppercase tracking-[0.4em] text-[var(--muted)]">Contact</p>
          <h2 class="text-3xl font-semibold text-[var(--slate)]">Let's plan your next launch in Albania.</h2>
          <p class="text-[var(--muted)]">
            Share dossier milestones, inventory targets, or partner needs. A Galaxy specialist replies within 24 hours with a clear plan coordinated across regulatory and distribution.
          </p>
          <form class="grid gap-4 text-[var(--slate)]">
            <div>
              <label class="text-sm font-semibold">Full name</label>
              <input type="text" placeholder="Arta Dervishi" class="mt-1 w-full rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3 text-sm" />
            </div>
            <div>
              <label class="text-sm font-semibold">Company</label>
              <input type="text" placeholder="Your organization" class="mt-1 w-full rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3 text-sm" />
            </div>
            <div>
              <label class="text-sm font-semibold">Message</label>
              <textarea rows="4" placeholder="Tell us about your portfolio or submission timeline." class="mt-1 w-full rounded-2xl border border-black/10 bg-[var(--page)] px-4 py-3 text-sm"></textarea>
            </div>
            <button type="button" class="rounded-full bg-[var(--accent)] px-8 py-3 text-sm font-semibold text-white">Send request</button>
          </form>
        </div>
        <div class="glow-card rounded-3xl p-6 text-sm text-[var(--muted)]">
          <h3 class="text-lg font-semibold text-[var(--slate)]">Headquarters</h3>
          <p>Tirana, Albania</p>
          <p class="mt-1 text-[var(--muted)]">Profarma Industrial Park</p>
          <div class="mt-4 space-y-1">
            <p class="font-semibold text-[var(--slate)]">Email</p>
            <a href="mailto:connect@galaxy.al" class="text-[var(--accent)]">connect@galaxy.al</a>
          </div>
          <div class="mt-4 space-y-1">
            <p class="font-semibold text-[var(--slate)]">Phone</p>
            <a href="tel:+35542000000" class="text-[var(--accent)]">+355 4 200 0000</a>
          </div>
          <div class="mt-6 rounded-2xl border border-black/5 bg-[var(--page)] p-4 text-xs text-[var(--muted)]">
            <p>Response time</p>
            <p class="text-2xl font-semibold text-[var(--slate)]">&lt; 24 hours</p>
            <p>for licensing & launch requests</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="border-t border-black/5 bg-white py-8 text-center text-sm text-[var(--muted)]" data-animate>
      <div class="mx-auto flex max-w-6xl flex-col gap-4 px-6 md:flex-row md:items-center md:justify-between">
        <p>© {new Date().getFullYear()} Galaxy · Profarma Group</p>
        <p>GDP compliant · ISO 9001 · ISO 14001</p>
      </div>
    </footer>
  </div>

  <script is:inline>
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced) {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.15 }
      );

      document.querySelectorAll('[data-animate]').forEach((section) => {
        section.classList.add('reveal-up');
        observer.observe(section);
      });
    }

    const typeTarget = document.querySelector('[data-typewriter]');
    const wordsAttr = typeTarget?.getAttribute('data-words');
    if (typeTarget && wordsAttr) {
      const words = JSON.parse(wordsAttr);
      let wordIndex = 0;
      let charIndex = 0;
      let deleting = false;

      const type = () => {
        const current = words[wordIndex] ?? '';
        charIndex += deleting ? -1 : 1;
        typeTarget.textContent = current.slice(0, charIndex);

        let delay = deleting ? 45 : 90;

        if (!deleting && charIndex === current.length) {
          delay = 2000;
          deleting = true;
        } else if (deleting && charIndex === 0) {
          deleting = false;
          wordIndex = (wordIndex + 1) % words.length;
          delay = 500;
        }

        setTimeout(type, delay);
      };

      type();
    }
  </script>
</Layout>
